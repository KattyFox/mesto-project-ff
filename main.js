(()=>{"use strict";function e(e){var t=document.querySelector("#card-template").content.cloneNode(!0);return t.querySelector(".card__image").src=e.link,t.querySelector(".card__image").alt=e.name,t.querySelector(".card__title").textContent=e.name,t.querySelector(".card__delete-button").addEventListener("click",(function(e){e.target.closest(".card").remove()})),t.querySelector(".card__like-button").addEventListener("click",(function(e){e.target.classList.toggle("card__like-button_is-active")})),t}function t(e){var t=document.querySelector(".popup_is-opened");("Escape"===e.key||e.target.classList.contains("popup__close")||e.target===t)&&t&&o(t)}function n(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",t),document.addEventListener("click",t)}function o(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",t),document.removeEventListener("click",t)}function c(e,t){e?(t.removeAttribute("disabled"),t.classList.remove("popup__button_disabled")):(t.setAttribute("disabled",!0),t.classList.add("popup__button_disabled"))}var r,a,i,u,l,s,d,p,_,m,v,f,y,g,k,b,L;i=document.querySelector(".places__list"),u=document.forms["edit-profile"],l=document.querySelector(".popup_type_edit"),s=u.elements.name,d=u.elements.description,p=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),m=document.forms["new-place"],v=m.elements["place-name"],f=m.elements.link,y=m.querySelector(".popup__button"),g=document.querySelector(".profile__add-button"),k=document.querySelector(".profile__edit-button"),b=document.querySelector(".popup_type_new-card"),(L=document.querySelector(".popup_type_image"))&&(r=L.querySelector(".popup__image"),a=L.querySelector(".popup__caption")),u.addEventListener("submit",(function(e){e.preventDefault(),p.textContent=s.value,_.textContent=d.value,o(l)})),k.addEventListener("click",(function(){s.value=p.textContent,d.value=_.textContent,c(u.querySelector(".popup__button"),y),n(l)})),b.querySelector(".popup__close").addEventListener("click",(function(){o(b)})),m.addEventListener("submit",(function(t){t.preventDefault(),function(t,n,o){o.prepend(e({name:t,link:n}))}(v.value,f.value,i),m.reset(),o(b),c(!1,y)})),m.addEventListener("input",(function(){c(v.value.length>0&&f.value.length>0,y)})),g.addEventListener("click",(function(){n(b)})),[{name:"Rise of Legend",link:"https://n-e-n.ru/images/2023-09-25/65115995cb9fc_0x0.jpg"},{name:"Best Ever",link:"https://www.pravilamag.ru/upload/img_cache/01c/01c0e2e7f4d62130314041ffa5d7ae8c_cropped_666x970.webp"},{name:"Under the sea",link:"https://disgustingmen.com/wp-content/uploads/2016/12/cousteau-conshelf-13.jpg"},{name:"Yellow submarine",link:"https://prostoshapka.ru/wp-content/uploads/2018/01/0_10e134_12731cb_orig.jpg"},{name:"Discovery",link:"https://teleprogramma.org/sites/default/files/styles/post_content_1200xany/public/text-images/2023-09/2.8_1695962715_1695963101.webp?itok=wCENLYe9"},{name:"Remember forever",link:"https://img.brodude.ru/Obu7Ht12aXgCyMDZnf3U4m9Lkk86YjZAREyoxXRvnpE/rs:fill:455:403:0/g:ce/c:0:0/aHR0cHM6Ly9icm9kdWRlLnJ1L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDEzLzA4L2Jyb2R1ZGUucnUsIDguMDguMjAxMywgZlBhRlIwR1BiYkpOSk5NN1lVR25teGtUdnR6MWk0OEUuanBn"}].forEach((function(t){var n=e(t);i.append(n)})),i.addEventListener("click",(function(e){if(e.target.classList.contains("card__image")){var t=e.target.closest(".card").querySelector(".card__title"),o={link:e.target.src,name:e.target.alt||t.textContent};r.src=o.link,r.alt=o.name,a.textContent=o.name,n(L)}}))})();